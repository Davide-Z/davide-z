(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{282:function(r,n,t){var content=t(318);"string"==typeof content&&(content=[[r.i,content,""]]),content.locals&&(r.exports=content.locals);(0,t(7).default)("a1a55f12",content,!0,{sourceMap:!1})},317:function(r,n,t){"use strict";var e=t(282);t.n(e).a},318:function(r,n,t){(r.exports=t(6)(!1)).push([r.i,"html{overflow:hidden}#simulationCanva{width:80%;height:100%;margin:0;padding:0}",""])},326:function(r,n,t){"use strict";t.r(n);var e=t(281),o=t(310),l=t(323),c=function(r,n,t,o,c,f){this.scene=f;var d,h,v=[],m=function(r){var n=e.Color3.FromHexString("#d2a62c"),t=e.Color3.FromHexString("#1dbf18");return 0===r?e.Color3.FromHexString("#0597f2"):e.Color3.Lerp(n,t,r)},w=function(i,r){return[{i:i-1+r%2,j:r-1},{i:i+r%2,j:r-1},{i:i-1,j:r},{i:i+1,j:r},{i:i-1+r%2,j:r+1},{i:i+r%2,j:r+1}]},C=function(i,r){var n=new e.StandardMaterial("tile_material_"+i+"_"+r,f);n.diffuseColor=m(h[i][r]),n.specularColor=new e.Color3(0,0,0),n.alpha=h[i][r]?1:.5;var l=e.MeshBuilder.CreateCylinder("tile_"+i+"_"+r,{height:t,diameter:o,tessellation:6},f);l.rotation.y=Math.PI/2;var c=i+r%2*.5,d=.87*r;return l.position=new e.Vector3(c,0,d),l.material=n,l};this.render=function(){for(var i=0;i<n;i++)for(var t=0;t<r;t++)v.push(C(i,t))};var M,time=0;this.updateGrass=function(){time%1e3==0&&(console.log(time),console.log(h),console.log(v)),time+=1,h=l.a(h,d.map(function(r){return r.map(function(r){return.001*r})})).map(function(r){return r.map(function(r){return r<=1?r:1})});for(var i=0;i<n;i++)for(var t=0;t<r;t++)v[i*r+t].material.diffuseColor=m(h[i][t])},d=function(t){for(var e,i=0;i<n;i++)for(var o=0;o<r;o++)t[i][o]*=.5+Math.atan((Math.random()-.5)/c/c)/Math.PI;for(var l,f,d=t.map(function(r){return r.slice()}),h=0;h<n;h++)for(var v=0;v<r;v++)if(0!==t[h][v]){l=t[h][v],f=1,e=w(h,v);for(var m=0;m<e.length;m++)l+=d[e[m].i][e[m].j],f+=0!==d[e[m].i][e[m].j];t[h][v]=1===f?0:l/f}return t}(d=function(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,o=[],i=0;i<n;i++){t=[];for(var l=0;l<r;l++)t.push((i>0)*(l>0)*(i<n-1)*(l<r-1));o.push(t)}for(var c,f,d=Math.round(.5*r*n/(Math.PI*Math.pow(e,2))),h=[],v=0;v<d;v++)h.push({i:Math.floor(n*Math.random()),j:Math.floor(r*Math.random())});for(var m=-e;m<e+1;m++)for(var w=-e;w<e+1;w++)if(m*m+w*w<=e*e)for(var C=0;C<h.length;C++)c=Math.max(0,Math.min(n-1,h[C].i+m)),f=Math.max(0,Math.min(r-1,h[C].j+w)),o[c][f]=0;return o}(3)),M=d.map(function(r){return r.slice()}),h=M=M.map(function(r){return r.map(function(r){return r>0?r:0})}),this.grass=h},f=function(r){var canvas=document.getElementById(r),n=new e.Engine(canvas,!0),t=function(){var r=new e.Scene(n);r.clearColor=e.Color3.FromHexString("#feffe7");var t=!0,map=new c(60,35,1,1.1,.1,r);map.render();var l=new e.ArcRotateCamera("Camera",0,Math.PI/4,Math.sqrt(2100),new e.Vector3(21,0,240/9),r);l.lowerRadiusLimit=5,l.upperBetaLimit=5*Math.PI/12,l.panningAxis=new e.Vector3(1,0,1),l.panningSensibility=200,l.attachControl(canvas,!0,!1,0),new e.HemisphericLight("light",new e.Vector3(0,1,0),r);var f=new o.AdvancedDynamicTexture.CreateFullscreenUI("UI"),d=new o.StackPanel;d.isVertical=!1,d.adaptHeightToChildren=!0,d.verticalAlignment=o.Control.VERTICAL_ALIGNMENT_TOP,d.horizontalAlignment=o.Control.HORIZONTAL_ALIGNMENT_RIGHT,f.addControl(d);var h=o.Button.CreateSimpleButton("play","Play");h.width="150px",h.height="40px",h.color="white",h.cornerRadius=20,h.background="grey",h.onPointerUpObservable.add(function(){t=!0});var v=o.Button.CreateSimpleButton("pause","Pause");return v.width="150px",v.height="40px",v.color="white",v.cornerRadius=20,v.background="grey",v.onPointerUpObservable.add(function(){t=!1}),d.addControl(h),d.addControl(v),r.registerBeforeRender(function(){t&&map.updateGrass()}),r}();n.runRenderLoop(function(){t.render()}),window.addEventListener("resize",function(){n.resize()})},d={mounted:function(){f("simulationCanva")}},h=(t(317),t(29)),v=t(61),m=t.n(v),w=t(110),component=Object(h.a)(d,function(){var r=this.$createElement,n=this._self._c||r;return n("v-layout",{attrs:{"justify-center":""}},[n("canvas",{attrs:{id:"simulationCanva"}})])},[],!1,null,null,null);n.default=component.exports;m()(component,{VLayout:w.a})}}]);